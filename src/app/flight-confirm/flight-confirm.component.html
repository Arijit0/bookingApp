<div id="main-wrapper">

  
    
        <!-- Page Header
      ============================================= -->
      <section class="page-header page-header-text-light bg-secondary">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-md-8">
              <h1>Flights - Confirm Details</h1>
              
              <!-- <countdown [config]="{leftTime: 10, notify: [ 2, 5 ]}" (event)="handleEvent($event)"></countdown>
              <countdown #cd1 [config]="{leftTime: 30}" (event)="handleEvent($event)"></countdown>
              <button (click)="cd1.pause()" class="btn btn-link btn-sm">pause</button>
              <button (click)="cd1.resume()" class="btn btn-link btn-sm">resume</button>
              <button (click)="cd1.stop()" class="btn btn-link btn-sm">stop</button>
              <button (click)="cd1.restart()" class="btn btn-link btn-sm">restart</button> -->
            </div>
            <div class="col-md-4">
              <ul class="breadcrumb justify-content-start justify-content-md-end mb-0">
                <li><a href="index.html">Home</a></li>
                <li><a href="booking-flights.html">Flights</a></li>
                <li class="active">Flights Confirm Details</li>
              </ul>
            </div>
          </div>
        </div>
      </section><!-- Page Header end -->
      
    <!-- Content
    ============================================= -->
    <div id="content">
      <section class="container">
          <div class="row">
            <div class="col-lg-8">
              <div class="bg-light shadow-md rounded p-3 p-sm-4 confirm-details">
                <div class="row">
                  <h2 class="text-6 mb-3 col-md-6">Confirm Flight Details</h2>
                  <span class="col-md-6 text-right mt-1">Time Remaining:
                     <!-- <countdown [config]="{ leftTime: config, format: 'mm:ss',notify:[] }" (event)="countDown($event)" (notify)="onNotify($event)"></countdown> -->
                     <span id="time" class="text-primary">00:00</span>
                    </span>
                </div>
                <!-- Departure Flight Detail
                ============================================= -->
                <div class="card" [ngClass]="i!=0?'mt-4':''" *ngFor="let eachTrip of flightDetails.OriginDestinationOptions ; let i=index">
                  <div class="card-header">
                    <div class="row align-items-center trip-title">
                      <div class="col-5 col-sm-auto text-center text-sm-left">
                        <h5 class="m-0 trip-place">{{airportList[eachTrip.DepartureAirport].ct}}</h5>
                      </div>
                      <div class="col-2 col-sm-auto text-8 text-black-50 text-center trip-arrow">‚ûù</div>
                      <div class="col-5 col-sm-auto text-center text-sm-left">
                        <h5 class="m-0 trip-place">{{airportList[eachTrip.ArrivalAirport].ct}}</h5>
                      </div>
                      <div class="col-12 mt-1 d-block d-md-none"></div>
                      <div class="col-6 col-sm col-md-auto text-3 date">{{eachTrip.DepartureDate}}</div>
                      <div class="col-6 col-sm col-md-auto text-right order-sm-1"><a class="text-1" data-toggle="modal" data-target="#fare-rules" href="" (click)="showFlightDetails( flightDetails.AirItineraryPricingInfo,eachTrip)">Fare Rules</a></div>
                      <div class="col col-md-auto text-center ml-auto order-sm-0" ><span class="badge badge-warning py-1 px-2 font-weight-normal text-1" *ngIf="flightDetails.IsRefundable=='No'">Non Refundable</span><span class="badge badge-success py-1 px-2 font-weight-normal text-1" *ngIf="flightDetails.IsRefundable=='Yes'">Refundable</span></div>
                    </div>
                  </div>
                  <div class="card-body" *ngFor="let eachFlight of eachTrip.FlightSegments">
                    <div class="row">
                      <div class="col-12 col-sm-3 text-center text-md-left d-lg-flex company-info"> <span class="align-middle"><img class="img-fluid" alt="" [src]="cdnPath + eachFlight.MarketingAirlineCode+'.png'"> </span> <span class="align-middle ml-lg-2"> <span class="d-block text-2 text-dark mt-1 mt-lg-0">{{airlineList[eachFlight.MarketingAirlineCode]}}</span> <small class="text-muted d-block">{{eachFlight.MarketingAirlineCode}}-{{eachFlight.FlightNumber}}</small> </span> </div>
                      <div class="col-12 col-sm-3 text-center time-info mt-3 mt-sm-0"> <span class="text-5 text-dark">{{eachFlight.DepartureTime}}</span> <small class="text-muted d-block">{{eachFlight.DepartureAirportLocationCode?airportList[eachFlight.DepartureAirportLocationCode].an:''}}, {{eachFlight.DepartureAirportLocationCode?airportList[eachFlight.DepartureAirportLocationCode].ct:''}}</small> </div>
                      <div class="col-12 col-sm-3 text-center time-info mt-3 mt-sm-0"> <span class="text-3 text-dark">{{eachFlight.JourneyDurationFormatted}}</span> <small class="text-muted d-block">Duration</small> </div>
                      <div class="col-12 col-sm-3 text-center time-info mt-3 mt-sm-0"> <span class="text-5 text-dark">{{eachFlight.ArrivalTime}}</span> <small class="text-muted d-block">{{eachFlight.ArrivalAirportLocationCode?airportList[eachFlight.ArrivalAirportLocationCode].an:''}}, {{eachFlight.ArrivalAirportLocationCode?airportList[eachFlight.ArrivalAirportLocationCode].ct:''}}</small> </div>
                    </div>
                    
                  </div>
                </div><!-- Departure Flight Detail end -->
                
               
                
                <div class="alert alert-info mt-4"> <span class="badge badge-info">NOTE:</span> This is a special fare given by the airline. Airlines cancellation charges do apply. </div>
                <h2 class="text-6 mb-3 mt-5">Traveller Details <span *ngIf="!loggedIn">- <span  class="text-3"><a data-toggle="modal" data-target="#login-signup" href="#" title="Login / Sign up">Login</a> to book faster</span></span></h2>
                <p class="font-weight-600">Contact Details</p>
                <div class="form-row">
                  <div class="col-sm-6 form-group">
                    <input class="form-control" id="email" required placeholder="Enter Email" type="text" [(ngModel)]="saveFlightJson.Email" (change)="userDetailSave()">
                  </div>
                  <div class="col-sm-6 form-group">
                    <input class="form-control" data-bv-field="number" id="mobileNumber" required placeholder="Enter Mobile Number" type="number" [(ngModel)]="saveFlightJson.PhoneNumber" (change)="userDetailSave()">
                  </div>
                </div>
                <p class="text-info">Your booking details will be sent to this email address and mobile number.</p>
                <div class="accordion accordion-alternate style-2" id="toggleAlternate" *ngFor="let adult of adultArray; let i = index;"> 
              
                <p class="font-weight-600">Adult {{i+1}}</p>
                <div class="form-row">
                  <div class="col-sm-3 form-group">
                    <select class="custom-select" id="titleAdult{{i+1}}" required="" [(ngModel)]="adult.PassengerName.PassengerTitle" (change)="includeGender('adult',i);travellerDetailStore('adult')" autofill="off" autocomplete="off">
                      <option value="">Title</option>
                      <option>Mr</option>
                      <option>Mrs</option>
                      <option>Miss</option>
                      <!-- <option>Master</option> -->
                    </select>
                  </div>
                  <!-- <div class="col-sm-3 form-group">
                    <input class="form-control" id="firstName" required placeholder="Enter First Name" type="text">
                  </div> -->
                  <div class="col-sm-3 form-group">
                    <input class="form-control"  id="firstNameAdult{{i+1}}" required placeholder="First Name" type="text" [(ngModel)]="adult.PassengerName.PassengerFirstName" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                  </div>
                  <div class="col-sm-3 form-group">
                    <input class="form-control"  id="lastNameAdult{{i+1}}" required placeholder="Last Name" type="text" [(ngModel)]="adult.PassengerName.PassengerLastName" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                  </div>
                  <div class="col-sm-3 form-group">
                    <input class="form-control dob" name="DOB" id="DOBAdult{{i+1}}" required placeholder="Date of Birth" type="text"  [(ngModel)]="adult.DateOfBirth" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                  </div>
                  <!-- <div class="col-sm-2 form-group">
                    <select class="custom-select" id="genderAdult{{i+1}}" required="" [(ngModel)]="adult.Gender" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                      <option value="">Gender</option>
                      <option>Male</option>
                      <option>Female</option>
                      <option>Other</option>
                    </select>
                  </div> -->
                  
                </div>
                <div class="form-row" *ngIf="isPassportMandatory">
                  <!-- <div class="col-sm-2 form-group">
                    <select class="custom-select" id="title" required="">
                      <option value="">Title</option>
                      <option>Mr</option>
                      <option>Ms</option>
                      <option>Mrs</option>
                    </select>
                  </div> -->
                  
                  
                  <div class="col-sm-3 form-group">
                    <input 
                    class="form-control nationality" 
                    [(ngModel)]="adult.PassengerNationality" 
                    id="nationalityAdult{{i+1}}" 
                    required 
                    placeholder="Nationality" 
                    type="text" 
                    (change)="travellerDetailStore('adult')" 
                    autofill="off" 
                    autocomplete="off">
                  </div>
                  <div class="col-sm-3 form-group">
                    <input class="form-control" [(ngModel)]="adult.Passport.PassportNumber" id="PassportNoAdult{{i+1}}" required placeholder="Passport No" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                  </div>
                  <div class="col-sm-3 form-group">
                    <input class="form-control issueCountry" [(ngModel)]="adult.Passport.Country" id="issueCountryAdult{{i+1}}" required placeholder="Issue Country" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                  </div>
                  <div class="col-sm-3 form-group">
                    <input class="form-control peo" [(ngModel)]="adult.Passport.ExpiryDate" id="PassportExpiredOnAdult{{i+1}}" required placeholder="Passport Expired On" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" [id]="'cardAdult'+(i+1)">
                    <h5 class="mb-0">
                      <a
                        href="#" [ngClass]="{'collapsed':!adult.collapsed}"  (click)="adult.collapsed=!adult.collapsed"
                        data-toggle="collapse"
                        [data-target]="'#toggleAdult'+(i+1)"
                        aria-expanded="false"
                        [aria-controls]="'#toggleAdult'+(i+1)"
                        >Additional information (Optional)</a
                      >
                    </h5>
                  </div>
                  <div [ngClass]="{'show':adult.collapsed}" 
                    [id]="'#toggleAdult'+(i+1)"
                    class="collapse show"
                    [aria-labelledby]="'cardAdult'+(i+1)"
                  >
                    <div class="card-body">
                      <div class="form-row" *ngIf="!isPassportMandatory">
                        <!-- <div class="col-sm-2 form-group">
                          <select class="custom-select" id="title" required="">
                            <option value="">Title</option>
                            <option>Mr</option>
                            <option>Ms</option>
                            <option>Mrs</option>
                          </select>
                        </div> -->
                        
                        
                        <div class="col-sm-3 form-group">
                          <input class="form-control nationality" [(ngModel)]="adult.PassengerNationality" id="nationalityAdult{{i+1}}" required placeholder="Nationality" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                        </div>
                        <div class="col-sm-3 form-group">
                          <input class="form-control" [(ngModel)]="adult.Passport.PassportNumber" id="PassportNoAdult{{i+1}}" required placeholder="Passport No" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                        </div>
                        <div class="col-sm-3 form-group">
                          <input class="form-control issueCountry" [(ngModel)]="adult.Passport.Country" id="issueCountryAdult{{i+1}}" required placeholder="Issue Country" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                        </div>
                        <div class="col-sm-3 form-group">
                          <input class="form-control peo" [(ngModel)]="adult.Passport.ExpiryDate" id="PassportExpiredOnAdult{{i+1}}" required placeholder="Passport Expired On" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                        </div>
                      </div>
                      <div class="form-row">
                          <div class="col-sm-3 form-group">
                            <select class="custom-select" id="mealprefAdult{{i+1}}" required="" [(ngModel)]="adult.SpecialServiceRequest.MealPreference" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                              <option value="">MealPreference</option>
                              <option *ngFor="let meal of mealList" [value]="meal.value">{{meal.text}}</option>
                              
                            </select>
                          </div>
                          <div class="col-sm-3 form-group">
                            <select class="custom-select" id="seatprefAdult{{i+1}}" required="" [(ngModel)]="adult.SpecialServiceRequest.SeatPreference" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                              <option value="">SeatPreference</option>
                              <option value="Any" label="Aisle">Aisle</option>
                              <option value="W" label="Window" >Window</option>
                              
                            </select>
                          </div>
                          <div class="col-sm-3 form-group">
                            <input class="form-control"  id="FrequentFlyerNoAdult{{i+1}}" required placeholder="Frequent Flyer No" type="text" (change)="travellerDetailStore('adult')" autofill="off" autocomplete="off">
                          </div>
                         
                        </div>
                    </div>
                  </div>
                </div>
              
                </div>
                <div class="accordion accordion-alternate style-2" id="toggleAlternate" *ngFor="let child of childArray; let i = index;"> 
              
                  <p class="font-weight-600">Child {{i+1}}</p>
                  <div class="form-row">
                    <div class="col-sm-3 form-group">
                      <select class="custom-select" id="titleChild{{i+1}}" required="" [(ngModel)]="child.PassengerName.PassengerTitle" (change)="includeGender('child',i);travellerDetailStore('child')" autofill="off" autocomplete="off">
                        <option value="">Title</option>
                        <option>Mr</option>
                        <option>Miss</option>
                      <!-- <option>Master</option> -->
                      </select>
                    </div>
                    <!-- <div class="col-sm-3 form-group">
                      <input class="form-control" id="firstName" required placeholder="Enter First Name" type="text">
                    </div> -->
                    <div class="col-sm-3 form-group">
                      <input class="form-control"  id="firstNameChild{{i+1}}" required placeholder="Enter First Name" type="text" [(ngModel)]="child.PassengerName.PassengerFirstName" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                    <div class="col-sm-3 form-group">
                      <input class="form-control"  id="lastNameChild{{i+1}}Child{{i+1}}" required placeholder="Enter Last Name" type="text" [(ngModel)]="child.PassengerName.PassengerLastName" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                    <div class="col-sm-3 form-group">
                      <input class="form-control dob" name="DOB" id="DOBChild{{i+1}}" required placeholder="Enter Date of Birth" type="text" [(ngModel)]="child.DateOfBirth" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                    <!-- <div class="col-sm-2 form-group">
                      <select class="custom-select" id="genderChild{{i+1}}" required="" [(ngModel)]="child.Gender" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                        <option value="">Gender</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                      </select>
                    </div> -->
                    
                  </div>
                  <div class="form-row" *ngIf="isPassportMandatory">
                    <!-- <div class="col-sm-2 form-group">
                      <select class="custom-select" id="title" required="">
                        <option value="">Title</option>
                        <option>Mr</option>
                        <option>Ms</option>
                        <option>Mrs</option>
                      </select>
                    </div> -->
                    
                    
                    <div class="col-sm-3 form-group">
                      <input class="form-control nationality" [(ngModel)]="child.PassengerNationality" id="nationalityChild{{i+1}}" required placeholder="Nationality" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                    <div class="col-sm-3 form-group">
                      <input class="form-control" [(ngModel)]="child.Passport.PassportNumber" id="PassportNoChild{{i+1}}" required placeholder="Passport No" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                    <div class="col-sm-3 form-group">
                      <input class="form-control issueCountry" [(ngModel)]="child.Passport.Country" id="issueCountryChild{{i+1}}" required placeholder="Issue Country" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                    <div class="col-sm-3 form-group">
                      <input class="form-control peo" [(ngModel)]="child.Passport.ExpiryDate" id="PassportExpiredOnChild{{i+1}}" required placeholder="Passport Expired On" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-header" id="cardChild{{i+1}}">
                      <h5 class="mb-0">
                        <a
                          href="#" [ngClass]="{'collapsed':!child.collapsed}"  (click)="child.collapsed=!child.collapsed"
                          data-toggle="collapse"
                          data-target="#toggleChild{{i+1}}"
                          aria-expanded="false"
                          aria-controls="toggleChild{{i+1}}"
                          >Additional information (Optional)</a
                        >
                      </h5>
                    </div>
                    <div
                      id="toggleChild{{i+1}}" [ngClass]="{'show':child.collapsed}" 
                      class="collapse show"
                      aria-labelledby="cardChild{{i+1}}"
                    >
                      <div class="card-body">
                        <div class="form-row" *ngIf="!isPassportMandatory">
                          <!-- <div class="col-sm-2 form-group">
                            <select class="custom-select" id="title" required="">
                              <option value="">Title</option>
                              <option>Mr</option>
                              <option>Ms</option>
                              <option>Mrs</option>
                            </select>
                          </div> -->
                          
                          
                          <div class="col-sm-3 form-group">
                            <input class="form-control nationality" [(ngModel)]="child.PassengerNationality" id="nationalityChild{{i+1}}" required placeholder="Nationality" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                          </div>
                          <div class="col-sm-3 form-group">
                            <input class="form-control" [(ngModel)]="child.Passport.PassportNumber" id="PassportNoChild{{i+1}}" required placeholder="Passport No" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                          </div>
                          <div class="col-sm-3 form-group">
                            <input class="form-control issueCountry" [(ngModel)]="child.Passport.Country" id="issueCountryChild{{i+1}}" required placeholder="Issue Country" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                          </div>
                          <div class="col-sm-3 form-group">
                            <input class="form-control peo" [(ngModel)]="child.Passport.ExpiryDate" id="PassportExpiredOnChild{{i+1}}" required placeholder="Passport Expired On" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                          </div>
                        </div>
                        <div class="form-row">
                            <!-- <div class="col-sm-2 form-group">
                              <select class="custom-select" id="title" required="">
                                <option value="">Title</option>
                                <option>Mr</option>
                                <option>Ms</option>
                                <option>Mrs</option>
                              </select>
                            </div> -->
                            <div class="col-sm-3 form-group">
                              <select class="custom-select" id="mealprefChild{{i+1}}" required="" [(ngModel)]="child.SpecialServiceRequest.MealPreference" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                                <option value="">MealPreference</option>
                                <option *ngFor="let meal of mealList" [value]="meal.value">{{meal.text}}</option>
                                
                              </select>
                            </div>
                            <div class="col-sm-3 form-group">
                              <select class="custom-select" id="seatprefChild{{i+1}}" required="" [(ngModel)]="child.SpecialServiceRequest.SeatPreference" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                                <option value="">SeatPreference</option>
                                <option value="Any" label="Aisle">Aisle</option>
                                <option value="W" label="Window" >Window</option>
                                
                              </select>
                            </div>
                            <div class="col-sm-3 form-group">
                              <input class="form-control"  id="FrequentFlyerNoChild{{i+1}}" required placeholder="Frequent Flyer No" type="text" (change)="travellerDetailStore('child')" autofill="off" autocomplete="off">
                            </div>
                           
                          </div>
                      </div>
                    </div>
                  </div>
                
                  </div>
                  <div class="accordion accordion-alternate style-2" id="toggleAlternate" *ngFor="let infant of infantArray; let i = index;"> 
              
                    <p class="font-weight-600">Infant {{i+1}}</p>
                    <div class="form-row">
                      <div class="col-sm-3 form-group">
                        <select class="custom-select" id="titleInfant{{i+1}}" required="" [(ngModel)]="infant.PassengerName.PassengerTitle" (change)="includeGender('infant',i);travellerDetailStore('infant')" autofill="off" autocomplete="off">
                          <option value="">Title</option>
                          <option>Mr</option>
                          <option>Miss</option>
                      <!-- <option>Master</option> -->
                        </select>
                      </div>
                      <!-- <div class="col-sm-3 form-group">
                        <input class="form-control" id="firstName" required placeholder="Enter First Name" type="text">
                      </div> -->
                      <div class="col-sm-3 form-group">
                        <input class="form-control"  id="firstNameInfant{{i+1}}" required placeholder="Enter First Name" type="text" [(ngModel)]="infant.PassengerName.PassengerFirstName" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off" >
                      </div>
                      <div class="col-sm-3 form-group">
                        <input class="form-control"  id="lastNameInfant{{i+1}}" required placeholder="Enter Last Name" type="text" [(ngModel)]="infant.PassengerName.PassengerLastName" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                      </div>
                      <div class="col-sm-3 form-group">
                        <input class="form-control dob" name="DOB" id="DOBInfant{{i+1}}" required placeholder="Enter Date of Birth" type="text" [(ngModel)]="infant.DateOfBirth" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                      </div>
                      <!-- <div class="col-sm-2 form-group">
                        <select class="custom-select" id="genderInfant{{i+1}}" required="" [(ngModel)]="infant.Gender" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                          <option value="">Gender</option>
                          <option>Male</option>
                          <option>Female</option>
                          <option>Other</option>
                        </select>
                      </div> -->
                      
                    </div>
                    <div class="form-row" *ngIf="isPassportMandatory">
                      <!-- <div class="col-sm-2 form-group">
                        <select class="custom-select" id="title" required="">
                          <option value="">Title</option>
                          <option>Mr</option>
                          <option>Ms</option>
                          <option>Mrs</option>
                        </select>
                      </div> -->
                      
                      
                      <div class="col-sm-3 form-group">
                        <input class="form-control nationality" [(ngModel)]="infant.PassengerNationality" id="nationalityInfant{{i+1}}" required placeholder="Nationality" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                      </div>
                      <div class="col-sm-3 form-group">
                        <input class="form-control" [(ngModel)]="infant.Passport.PassportNumber" id="PassportNoInfant{{i+1}}" required placeholder="Passport No" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                      </div>
                      <div class="col-sm-3 form-group">
                        <input class="form-control issueCountry" [(ngModel)]="infant.Passport.Country" id="issueCountryInfant{{i+1}}" required placeholder="Issue Country" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                      </div>
                      <div class="col-sm-3 form-group">
                        <input class="form-control peo" [(ngModel)]="infant.Passport.ExpiryDate" id="PassportExpiredOnInfant{{i+1}}" required placeholder="Passport Expired On" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                      </div>
                      
                    </div>
                    <div class="card">
                      <div class="card-header" id="cardInfant{{i+1}}">
                        <h5 class="mb-0">
                          <a
                            href="#" [ngClass]="{'collapsed':!infant.collapsed}"  (click)="child.collapsed=!infant.collapsed"
                            data-toggle="collapse"
                            data-target="#toggleInfant{{i+1}}"
                            aria-expanded="false"
                            aria-controls="toggleInfant{{i+1}}"
                            >Additional information (Optional)</a
                          >
                        </h5>
                      </div>
                      <div
                        id="toggleInfant{{i+1}}" [ngClass]="{'show':infant.collapsed}" 
                        class="collapse show"
                        aria-labelledby="cardInfant{{i+1}}"
                      >
                        <div class="card-body">
                          <div class="form-row" *ngIf="!isPassportMandatory">
                            <!-- <div class="col-sm-2 form-group">
                              <select class="custom-select" id="title" required="">
                                <option value="">Title</option>
                                <option>Mr</option>
                                <option>Ms</option>
                                <option>Mrs</option>
                              </select>
                            </div> -->
                            
                            
                            <div class="col-sm-3 form-group">
                              <input class="form-control nationality" [(ngModel)]="infant.PassengerNationality" id="nationalityInfant{{i+1}}" required placeholder="Nationality" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                            </div>
                            <div class="col-sm-3 form-group">
                              <input class="form-control" [(ngModel)]="infant.Passport.PassportNumber" id="PassportNoInfant{{i+1}}" required placeholder="Passport No" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                            </div>
                            <div class="col-sm-3 form-group">
                              <input class="form-control issueCountry" [(ngModel)]="infant.Passport.Country" id="issueCountryInfant{{i+1}}" required placeholder="Issue Country" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                            </div>
                            <div class="col-sm-3 form-group">
                              <input class="form-control peo" [(ngModel)]="infant.Passport.ExpiryDate" id="PassportExpiredOnInfant{{i+1}}" required placeholder="Passport Expired On" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                            </div>
                            
                          </div>
                          <div class="form-row">
                              <!-- <div class="col-sm-2 form-group">
                                <select class="custom-select" id="title" required="">
                                  <option value="">Title</option>
                                  <option>Mr</option>
                                  <option>Ms</option>
                                  <option>Mrs</option>
                                </select>
                              </div> -->
                              <div class="col-sm-3 form-group">
                                <select class="custom-select" id="mealprefInfant{{i+1}}" required="" [(ngModel)]="infant.SpecialServiceRequest.MealPreference" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                                  <option value="">MealPreference</option>
                                  <option *ngFor="let meal of mealList" [value]="meal.value">{{meal.text}}</option>
                                  
                                </select>
                              </div>
                              <div class="col-sm-3 form-group">
                                <select class="custom-select" id="seatprefInfant{{i+1}}" required="" [(ngModel)]="infant.SpecialServiceRequest.SeatPreference" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                                  <option value="">SeatPreference</option>
                                  <option value="Any" label="Aisle">Aisle</option>
                                  <option value="W" label="Window" >Window</option>
                                  
                                </select>
                              </div>
                              <div class="col-sm-3 form-group">
                                <input class="form-control"  id="FrequentFlyerNoInfant{{i+1}}" required placeholder="Frequent Flyer No" type="text" (change)="travellerDetailStore('infant')" autofill="off" autocomplete="off">
                              </div>
                             
                            </div>
                        </div>
                      </div>
                    </div>
                  
                    </div>
              </div>
            </div>
            
            <!-- Side Panel (Fare Details)
            ============================================= -->
            <aside class="col-lg-4 mt-4 mt-lg-0">
              <div class="bg-light shadow-md rounded p-3">
                <h3 class="text-5 mb-3">Fare Details</h3>
                <ul class="list-unstyled">
                  <li class="mb-2">Base Fare <span class="float-right text-4 font-weight-500 text-dark" [innerHTML]="currency+' '+ numberWithCommas(flightDetails.AirItineraryPricingInfo.ItinTotalFare.BaseFare_curr)"></span><br>
                    <small class="text-muted">Adult : {{searchDetails.adultCount}}, Child : {{searchDetails.childCount}}, Infant : {{searchDetails.infantCount}}</small></li>
                  <li class="mb-2">Taxes & Fees <span class="float-right text-4 font-weight-500 text-dark" [innerHTML]="currency+' '+numberWithCommas(flightDetails.AirItineraryPricingInfo.ItinTotalFare.TotalTax_curr)"></span></li>
                  <!-- <li class="mb-2">Insurance <span class="float-right text-4 font-weight-500 text-dark">$95</span></li> -->
                </ul>
                <div class="text-dark bg-light-4 text-4 font-weight-600 p-3"> Total Amount <span class="float-right text-6" [innerHTML]="currency+' '+numberWithCommas(flightDetails.AirItineraryPricingInfo.ItinTotalFare.TotalFare_curr)"></span> </div>
                <h3 class="text-4 mb-3 mt-4">Promo Code</h3>
                <div class="input-group form-group">
                  <input class="form-control" placeholder="Promo Code" aria-label="Promo Code" type="text" [(ngModel)]="promoCode">
                  <span class="input-group-append">
                  <button class="btn btn-secondary" type="button" (click)="promoCodeApply()">APPLY</button>
                  </span> </div>
                <!-- <ul class="promo-code pre-scrollable">
                  <li><span class="d-block text-3 font-weight-600">FLTOFFER</span>Up to $500 Off on your booking. Hurry! Limited period offer. <a class="text-1" href="">Terms & Conditions</a></li>
                  <li><span class="d-block text-3 font-weight-600">HOTOFFER</span>Up to $500 Off on your booking. Hurry! Limited period offer. <a class="text-1" href="">Terms & Conditions</a></li>
                  <li><span class="d-block text-3 font-weight-600">SUMMEROFFER</span>Up to $500 Off on your booking. Hurry! Limited period offer. <a class="text-1" href="">Terms & Conditions</a></li>
                  <li><span class="d-block text-3 font-weight-600">BIGOFFER</span>Up to $500 Off on your booking. Hurry! Limited period offer. <a class="text-1" href="">Terms & Conditions</a></li>
                  <li><span class="d-block text-3 font-weight-600">FLTOFFER</span>Up to $500 Off on your booking. Hurry! Limited period offer. <a class="text-1" href="">Terms & Conditions</a></li>
                  <li><span class="d-block text-3 font-weight-600">FLTOFFER</span>Up to $500 Off on your booking. Hurry! Limited period offer. <a class="text-1" href="">Terms & Conditions</a></li>
                </ul> -->
                <button class="btn btn-primary btn-block" *ngIf='isFlightValidated' type="button" (click)="proceedToPayment()">Proceed To Payment</button>
                <button class="btn btn-primary btn-block" *ngIf='!isFlightValidated' type="button">Please wait... Validating</button>
              </div>
            </aside><!-- Side Panel End -->
            
          </div>
      </section>
      <!-- Fare Rules (Modal Dialog)
                    =============================================   eachFlight.ArrivalAirportLocationCode?airportList[eachFlight.ArrivalAirportLocationCode].ct:'' -->
                    <div id="fare-rules" class="modal fade" role="dialog" aria-hidden="true">
                      <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title">Fare Rules</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                          </div>
                          <div class="modal-body">
                            <ul class="nav nav-tabs" id="departureTab" role="tablist">
                              <li class="nav-item"> <a class="nav-link active" id="third-tab" data-toggle="tab" href="#third" role="tab" aria-controls="third" aria-selected="false">Baggage Details</a> </li>
                              <li class="nav-item" > <a class="nav-link" id="fourth-tab" data-toggle="tab" href="#fourth" role="tab" aria-controls="fourth" aria-selected="false">Cancellation Fee</a> </li>
                            </ul>
                            <div class="tab-content my-3" id="departureContent">
                              <div class="tab-pane fade show active" id="third" role="tabpanel" aria-labelledby="third-tab">
                                <div class="table-responsive-md" *ngFor="let eachFlight of eachFlightDetails.FlightSegments">
                                  <table class="table table-hover table-bordered bg-light">
                                    <thead>
                                      <tr>
                                        <th>{{eachFlight.MarketingAirlineCode}}-{{eachFlight.FlightNumber}}</th>
                                        <td class="text-center">Cabin</td>
                                        <td class="text-center">Check-In</td>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr *ngFor="let eachBaggage of eachFlight.Baggage">
                                        <td *ngIf="eachBaggage.Type=='ADT'">Adult</td>
                                        <td *ngIf="eachBaggage.Type=='CHD'">Child</td>
                                        <td *ngIf="eachBaggage.Type=='INF'">Infant</td>
                                        <td class="text-center">-</td>
                                        <td class="text-center">{{eachBaggage.Value}}</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                              <div
                          class="tab-pane fade"
                          id="fourth"
                          role="tabpanel"
                          aria-labelledby="fourth-tab"
                        >
                        <div class="bg-light shadow-md rounded p-4">
                          <div id='inloader' *ngIf="inloaderShow"><div data-loader="dual-ring"></div></div>
                          <div class="no-gutters" *ngFor="let eachFareRule of fareRuleList; let i = index">
                          <h3 class="text-6">Airline : {{eachFareRule.Airline}}, City Pair : {{eachFareRule.CityPair}}, Pax Type : Adult</h3>
                          <hr>
                          <div class="row" >
                              <div class="col-md-12">
                              <div class="accordion accordion-alternate" id="accordion_{{i}}">
                            <div class="card" *ngFor="let eachRule of eachFareRule.RuleDetails ; let in = index">
                              <div class="card-header dibs" id="heading_{{i}}_{{in}}">
                                <h5 class="mb-0">
                                  <a href="#"  [ngClass]="{'collapsed':!eachRule.collapsed}" data-toggle="collapse" data-target="#faq_{{i}}_{{in}}" (click)="eachRule.collapsed=!eachRule.collapsed" aria-expanded="false" aria-controls="faq_{{i}}_{{in}}" data-parent="#accordion_{{i}}">{{eachRule.Category}}</a>
                                </h5>
                              </div>
                              <div id="faq_{{i}}_{{in}}" [ngClass]="{'show':eachRule.collapsed}" class="collapse" aria-labelledby="heading_{{i}}_{{in}}" data-parent="#accordion_{{i}}">
                                <div class="card-body"> {{eachRule.Rules}} </div>
                              </div>
                            </div>
                           
                          </div>
                              </div>
                          
                          </div>
                          <hr>
                        </div>
                        </div>
                        </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div><!-- Fare Rules end -->
                    <!-- fareChange (Modal Dialog)
                    =============================================   eachFlight.ArrivalAirportLocationCode?airportList[eachFlight.ArrivalAirportLocationCode].ct:'' -->
                    <div id="fareChange" class="modal fade" role="dialog" aria-hidden="true" data-backdrop="static">
                      <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title">!Oops</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                          </div>
                          <div class="modal-body">
                            <div *ngIf="!fareChange">
                              <h1>Your flight has expired</h1>
                              
                            </div>
                            <div *ngIf="fareChange">
                              <h3>Your flight rate has changed</h3>
                              <!-- <h4>Old rate was 900 and current rate is 1000</h4> -->
                              <!-- <h4>Old rate was {{currency}} {{flightDetails.AirItineraryPricingInfo.ItinTotalFare.TotalFare_curr}} and current rate is {{currency}} {{fareChangeDetl.aPricedItineraries.aPricedItinerary.aItinTotalFare.aTotalFare.aAmount}}</h4> -->
                              
                            </div>
                          </div>
                          
                            <div class="modal-footer" *ngIf="!fareChange">
                              <button class="btn btn-secondary" type="button" (click)="backToFlightResult()">Go back to flight result</button>
                            </div>
                           
                            <div class="modal-footer" *ngIf="fareChange">
                              <button class="btn btn-primary" type="button" (click)="newPrice()">Continue with new price</button>
                              <button class="btn btn-secondary" type="button" (click)="backToFlightResult()">Choose another flight</button>
                            </div>
                          
                        </div>
                      </div>
                    </div><!-- fareChange end -->
                    <!--Error Modal start-->
                    <app-error-modal></app-error-modal>
                    <!--Error Modal end-->
    </div><!-- Content end -->
    
    
    
  </div>